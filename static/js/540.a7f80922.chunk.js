"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[540],{2540:function(e,n,r){r.r(n),r.d(n,{default:function(){return M}});var t=r(2791),a=r(9434),o=r(1413),i=r(9439),s=r(9195),u=r(4695),l=r(5282),c=(r(7427),r(3871)),m=function(e){return e.contacts.items},d=function(e){return e.contacts.isLoading},x=function(e){return e.contacts.error},p=function(e){var n=function(e){return e.filter.value}(e),r=m(e);return""!==n?r.filter((function(e){return e.name.toLowerCase().includes(n)})):r},h=r(9276),b=r(1256),f=r(4518),Z=r(184),v=l.object().shape({name:l.string().min(2,"Name must be at least 2 characters").matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan").required("Name is required"),number:l.string().phone("UA","Number must be a valid phone number for region UA.").required("Phone is required")}),g={name:"",number:""},j=function(){var e,n,r=(0,t.useState)(g),l=(0,i.Z)(r,2),d=l[0],x=l[1],p=(0,a.v9)(m),j=(0,a.I0)(),C=function(e){x(e)},y=(0,s.cI)({resolver:(0,u.X)(v)}),w=y.register,k=y.handleSubmit,A=y.formState.errors;return(0,Z.jsxs)(h.Z,{component:"form",autoComplete:"off",name:"Add Contact Form",onSubmit:k((function(e){void 0===p.find((function(n){return n.name.toLowerCase()===e.name.toLowerCase()}))?j((0,c.uK)(e)):alert("".concat(e.name," is already in contacts.")),x(g)})),sx:{width:"700px",margin:"0 auto",display:"flex",alignItems:"center",justifyContent:"space-around",columnGap:"32px",border:"1px solid #093C01",borderRadius:"4px",mb:"16px",padding:"24px","& .MuiTextField-root":{display:"block",m:.5,width:"25ch"}},children:[(0,Z.jsx)(b.Z,(0,o.Z)((0,o.Z)({name:"name",label:"Name",placeholder:"Rob Stark",required:!0},w("name")),{},{error:!!A.name,helperText:null===(e=A.name)||void 0===e?void 0:e.message,value:d.name,onChange:function(e){return C((0,o.Z)((0,o.Z)({},d),{},{name:e.target.value}))},size:"small"})),(0,Z.jsx)(b.Z,(0,o.Z)((0,o.Z)({name:"number",label:"Phone number",placeholder:"+380 00 000 00 00",required:!0},w("number")),{},{error:!!A.number,helperText:null===(n=A.number)||void 0===n?void 0:n.message,value:d.number,onChange:function(e){return C((0,o.Z)((0,o.Z)({},d),{},{number:e.target.value}))},size:"small"})),(0,Z.jsx)(f.Z,{type:"submit",variant:"contained",sx:{margin:"0 auto",width:"25ch"},children:"Add contact"})]})},C=r(493),y=r(4852),w=r(8870),k=r(890),A=r(2199),I=r(3400),S=r(6366),z=r(1286),q=r(7247),F=function(e){var n,r,l=e.contact,m=e.setOpen,d=l.id,x=l.name,p=l.number,g=(0,t.useState)({name:x,number:p}),j=(0,i.Z)(g,2),C=j[0],y=j[1],w=(0,a.I0)(),k=function(e){y(e)},A=(0,s.cI)({resolver:(0,u.X)(v)}),I=A.register,S=A.handleSubmit,z=A.formState.errors;return(0,Z.jsxs)(h.Z,{component:"form",autoComplete:"off",name:"Edit Contact Form",onSubmit:S((function(e){var n={id:d,name:e.name,number:e.number};w((0,c.mP)(n)),m(!1)})),sx:{width:"650px",margin:"0 auto",display:"flex",alignItems:"center",justifyContent:"space-around",columnGap:"32px",border:"1px solid #093C01",borderRadius:"4px",mb:"16px",padding:"8px","& .MuiTextField-root":{display:"block",m:.5,width:"25ch"}},children:[(0,Z.jsx)(b.Z,(0,o.Z)((0,o.Z)({name:"name",label:"Name",placeholder:"Rob Stark",required:!0},I("name")),{},{error:!!z.name,helperText:null===(n=z.name)||void 0===n?void 0:n.message,value:C.name,onChange:function(e){return k((0,o.Z)((0,o.Z)({},C),{},{name:e.target.value}))},size:"small"})),(0,Z.jsx)(b.Z,(0,o.Z)((0,o.Z)({name:"number",label:"Phone number",placeholder:"+380 00 000 00 00",required:!0},I("number")),{},{error:!!z.number,helperText:null===(r=z.number)||void 0===r?void 0:r.message,value:C.number,onChange:function(e){return k((0,o.Z)((0,o.Z)({},C),{},{number:e.target.value}))},size:"small"})),(0,Z.jsx)(f.Z,{type:"submit",variant:"contained",sx:{margin:"0 auto",width:"25ch"},children:"Edit"})]})},T=function(e){var n=e.contact,r=n.id,o=n.name,s=n.number,u=(0,t.useState)(!1),l=(0,i.Z)(u,2),m=l[0],x=l[1],p=(0,a.v9)(d),h=(0,a.I0)();return(0,Z.jsxs)(y.ZP,{sx:{display:"block",borderBottom:"1px solid #093C01"},children:[(0,Z.jsxs)(w.Z,{sx:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"4px"},children:[(0,Z.jsx)(k.Z,{sx:{maxWidth:"300px"},children:o}),(0,Z.jsx)(k.Z,{children:s}),(0,Z.jsxs)(A.Z,{children:[(0,Z.jsx)(I.Z,{color:"primary",onClick:function(){x(!0)},children:(0,Z.jsx)(z.Z,{})}),(0,Z.jsx)(I.Z,{color:"primary",onClick:function(){return h((0,c.GK)(r))},children:p?(0,Z.jsx)(S.Z,{}):(0,Z.jsx)(q.Z,{})})]})]}),m&&(0,Z.jsx)(F,{contact:n,setOpen:x})]})},N=function(){var e=(0,a.v9)(p);return(0,Z.jsx)(C.Z,{sx:{width:"700px",margin:"0 auto",padding:"12px",border:"2px solid #093C01",borderRadius:"4px"},children:e.map((function(e){return(0,Z.jsx)(T,{contact:e},e.id)}))})},P=r(8096),L=r(8029),R=r(6895),G=function(){var e=(0,a.I0)();return(0,Z.jsxs)(h.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",columnGap:"32px",mb:"16px",padding:"12px"},children:[(0,Z.jsx)(k.Z,{children:"Find contacts by name"}),(0,Z.jsx)(P.Z,{size:"small",children:(0,Z.jsx)(L.Z,{autoComplete:"off",name:"filter",onChange:function(n){var r=n.target.value.trim().toLowerCase();console.log(r),e((0,R.M)(r))}})})]})},M=function(){var e=(0,a.v9)(m),n=(0,a.I0)(),r=(0,a.v9)(d),o=(0,a.v9)(x),i=!r&&!o&&e.length>0,s=!r&&!o&&0===e.length;return(0,t.useEffect)((function(){n((0,c.yF)())}),[n]),(0,Z.jsxs)("main",{children:[(0,Z.jsx)(j,{}),(0,Z.jsx)(k.Z,{variant:"h3",color:"primary",sx:{textAlign:"center",fontWeight:"bold"},children:"Contacts"}),(0,Z.jsx)(G,{}),i&&(0,Z.jsx)(N,{}),s&&(0,Z.jsx)(k.Z,{variant:"body1",sx:{textAlign:"center"},children:"There is no contacts yet. Please, add a contact."}),r&&(0,Z.jsx)("p",{children:(0,Z.jsx)(S.Z,{width:"16"})}),o&&(0,Z.jsx)("p",{children:o})]})}}}]);
//# sourceMappingURL=540.a7f80922.chunk.js.map